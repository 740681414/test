window.__require=function e(t,o,n){function r(a,c){if(!o[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};t[a][0].call(p.exports,function(e){return r(t[a][1][e]||e)},p,p.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({GameItem:[function(e,t,o){"use strict";cc._RF.push(t,"10e9fGkSY5MCpTdfXIfesi5","GameItem");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ACTION_TYPE=void 0;var a,c=e("../../../../framework/Script/cemter/GameCenter"),s=e("../../../../InitScene/Script/data/AchieveModel"),l=e("./Hit/Latch"),p=e("./Hit/Shape"),u=cc._decorator,h=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.latchList=[],t.shapeList=[],t.isShakeing=!1,t.TAKE_NUM=3,t.lastAngle=[],t.lastPos=[],t}return r(t,e),t.prototype.start=function(){this.node.getChildByName("center").destroy();for(var e=0,t=this.node.children;e<t.length;e++){var o=t[e],n=o.getComponent(l.default),r=o.getComponent(p.default);n&&this.latchList.push(n),r&&this.shapeList.push(r)}for(var i=0;i<this.TAKE_NUM;i++)this.lastAngle.push(this.node.angle),this.lastPos.push(this.node.getPosition())},t.prototype.checkClick=function(e){if(this.getActionType()!=a.STATIC&&!this.isShakeing){for(var t=0,o=this.shapeList;t<o.length;t++)for(var n=0,r=o[t].getComponents(cc.PolygonCollider);n<r.length;n++){var i=r[n],c=i.node.convertToNodeSpaceAR(e),s=cc.Intersection.pointInPolygon(c,i.points);if(this.takePos=this.node.getPosition(),this.takeAngle=this.node.angle,s&&999==i.tag)return!!this.canRotation()||(this.shakeBody(),!1)}return!1}},t.prototype.action=function(e,t){if(!this.isShakeing){switch(this.getActionType()){case a.ROTATION:this.node.angle=this.takeAngle+e;break;case a.MOVE:var o=null;e:for(var n=0,r=this.shapeList;n<r.length;n++)if(null!=(u=r[n]).dire){o=u.dire;break e}0==o?this.node.x+=t.x:this.node.y+=t.y}for(var i=!1,c=0,s=this.shapeList;c<s.length;c++)(u=s[c]).isHitShape()&&(i=!0,console.log("\u56fe\u5f62\u9650\u4f4d"));for(var l=0,p=this.latchList;l<p.length;l++){var u;(u=p[l]).isHitShape()&&(i=!0,console.log("\u9501\u6263\u9650\u4f4d\u9650\u4f4d"))}if(i){this.node.angle=this.lastAngle[0],this.node.setPosition(this.lastPos[0]),this.shakeBody(),this.lastAngle=[],this.lastPos=[];for(var h=0;h<this.TAKE_NUM;h++)this.lastAngle.push(this.node.angle),this.lastPos.push(this.node.getPosition())}else this.lastAngle.push(this.node.angle),this.lastPos.push(this.node.getPosition()),this.lastAngle.length>this.TAKE_NUM&&this.lastAngle.shift(),this.lastPos.length>this.TAKE_NUM&&this.lastPos.shift();return i}},t.prototype.shakeBody=function(){var e=this;c.default.mainAudio.playActionLimit(),this.isShakeing=!0;var t=this.node.angle;cc.tween(this.node).to(.1,{angle:t+5}).to(.05,{angle:t-5}).to(.1,{angle:t+5}).to(.1,{angle:t-5}).to(.05,{angle:t}).call(function(){e.isShakeing=!1}).start()},t.prototype.isFree=function(){return!!this.isLatchFree()&&!!this.isShapeFree()},t.prototype.isLatchFree=function(){for(var e=0,t=this.latchList;e<t.length;e++)if(t[e].isHit)return!1;return!0},t.prototype.isShapeFree=function(){for(var e=0,t=this.shapeList;e<t.length;e++)if(t[e].isHit)return!1;return!0},t.prototype.canRotation=function(){for(var e=0,t=this.latchList;e<t.length;e++){var o=t[e];if(console.log(o.isHit),o.isHit)return!1}return!0},t.prototype.canAction=function(){},t.prototype.getActionType=function(){for(var e=0,t=this.shapeList;e<t.length;e++)switch(t[e].node.name){case"shape_101":case"shape_103":return a.ROTATION;case"IronRod_201":case"IronRod_202":case"IronRod_203":case"IronRod_204":case"IronRod_205":case"IronRod_206":case"IronRod_207":return a.MOVE}return a.STATIC},t.prototype.destroyMe=function(){this.node.destroy();for(var e=0,t=this.shapeList;e<t.length;e++)switch(t[e].node.name){case"shape_101":case"shape_102":case"shape_103":return void s.default.setAchieve(s.ACHIEVE_TYPE.destoryCircel,1);case"IronRod_201":case"IronRod_202":case"IronRod_203":case"IronRod_204":case"IronRod_205":return void s.default.setAchieve(s.ACHIEVE_TYPE.destoryU,1);case"IronRod_206":case"IronRod_207":return void s.default.setAchieve(s.ACHIEVE_TYPE.destoryU,1)}},t.prototype.clearcollider=function(){for(var e=0,t=this.shapeList;e<t.length;e++)(r=t[e]).node.removeComponent(cc.BoxCollider),r.node.removeComponent(cc.CircleCollider),r.node.removeComponent(cc.PolygonCollider);for(var o=0,n=this.latchList;o<n.length;o++){var r;(r=n[o]).node.removeComponent(cc.BoxCollider),r.node.removeComponent(cc.CircleCollider),r.node.removeComponent(cc.PolygonCollider)}},i([h],t)}(cc.Component));o.default=d,function(e){e[e.STATIC=0]="STATIC",e[e.ROTATION=1]="ROTATION",e[e.MOVE=2]="MOVE"}(a=o.ACTION_TYPE||(o.ACTION_TYPE={})),cc._RF.pop()},{"../../../../InitScene/Script/data/AchieveModel":void 0,"../../../../framework/Script/cemter/GameCenter":void 0,"./Hit/Latch":"Latch","./Hit/Shape":"Shape"}],GameLogic:[function(e,t,o){"use strict";cc._RF.push(t,"4f371h4sbpNYZU6K/txZUEy","GameLogic");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../framework/Script/cemter/GameCenter"),c=e("../../../InitScene/Script/data/UserGameModel"),s=e("./Item/GameItem"),l=cc._decorator,p=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemList=[],t}return r(t,e),t.prototype.start=function(){for(var e=0,t=this.node.children;e<t.length;e++){var o=t[e].getComponent(s.default);null!=o&&this.itemList.push(o)}this.node.getChildByName("GUIDE")&&(0==c.default.GUIDE_INDEX?c.default.setGUIDE_INDEX_ADD():this.node.getChildByName("GUIDE").active=!1),this.node.on(cc.Node.EventType.TOUCH_START,this.onStartTouch,this)},t.prototype.onStartTouch=function(e){this.node.getChildByName("GUIDE")&&(this.node.getChildByName("GUIDE").active=!1);for(var t=0,o=this.itemList;t<o.length;t++){var n=o[t];if(n.checkClick(e.getLocation())){this.curItem=n,this.takePos=e.getLocation(),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMoveTouch,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onEndTouch,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onEndTouch,this);break}}},t.prototype.onMoveTouch=function(e){if(null!=this.curItem){var t=this.curItem.node.convertToNodeSpaceAR(this.takePos),o=180*Math.atan2(t.y,t.x)/Math.PI,n=this.curItem.node.convertToNodeSpaceAR(e.getLocation()),r=180*Math.atan2(n.y,n.x)/Math.PI;this.curItem.action(r-o,e.getDelta())&&(this.takePos=e.getLocation())}},t.prototype.onEndTouch=function(){this.curItem=null,this.takePos=null;for(var e=0;e<this.itemList.length;e++){var t=this.itemList[e];t.isFree()&&(this.clearObj(t),e--)}this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onMoveTouch,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onEndTouch,this),this.unscheduleAllCallbacks(),this.scheduleOnce(this.checkGameClear,.6)},t.prototype.clearObj=function(e){c.default.emit(c.USERGAME_EVENT.GAME_TOUCHMASK,!0),this.itemList.splice(this.itemList.indexOf(e),1),a.default.mainAudio.playShapeClear();var t=Math.atan2(e.node.y,e.node.x),o=e.node.getPosition().mag()+100;cc.tween(e.node).to(.3,{x:o*Math.cos(t),y:o*Math.sin(t),opacity:0},{easing:cc.easing.cubicIn}).call(function(){e.destroyMe(),c.default.emit(c.USERGAME_EVENT.GAME_TOUCHMASK,!1)}).start()},t.prototype.clearRandomOne=function(){var e=this;this.itemList.length<=0||(this.clearObj(this.itemList[Math.floor(this.itemList.length*Math.random())]),this.scheduleOnce(function(){e.onEndTouch(null)},.3))},t.prototype.checkGameClear=function(){0==this.itemList.length&&(console.log("\u89e3\u9501\u6210\u529f"),c.default.emit(c.USERGAME_EVENT.GAME_WIN))},i([p],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../InitScene/Script/data/UserGameModel":void 0,"../../../framework/Script/cemter/GameCenter":void 0,"./Item/GameItem":"GameItem"}],GameLose:[function(e,t,o){"use strict";cc._RF.push(t,"3b6d2UqMORKVKSICS6zEHRO","GameLose");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../framework/Script/cemter/GameCenter"),c=e("../../../framework/Script/sdk/recorder"),s=e("../../../InitScene/Script/data/UserGameModel"),l=e("../../../Script/common/ui/WinBase"),p=cc._decorator,u=p.ccclass,h=(p.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){},t.prototype.goHome=function(){c.default.stop(),a.default.sceneCenter.runScene("MainScene"),this.getComponent(l.default).onClose()},t.prototype.addTime=function(){this.getComponent(l.default).onClose(),s.default.emit(s.USERGAME_EVENT.GAME_ADDTIME)},i([u],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../InitScene/Script/data/UserGameModel":void 0,"../../../Script/common/ui/WinBase":void 0,"../../../framework/Script/cemter/GameCenter":void 0,"../../../framework/Script/sdk/recorder":void 0}],GameScene:[function(e,t,o){"use strict";cc._RF.push(t,"a160cOJG8tId4+vPIoK2NpX","GameScene");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../framework/Script/cemter/GameCenter"),c=e("../framework/Script/prefab/AwardButton"),s=e("../framework/Script/sdk/recorder"),l=e("../InitScene/Script/center/GameInit"),p=e("../InitScene/Script/data/AchieveModel"),u=e("../InitScene/Script/data/UserGameModel"),h=e("../Script/base/AronUtils"),d=e("./Script/Game/GameLogic"),f=e("./Script/UI/GameWin"),m=cc._decorator,_=m.ccclass,g=m.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.touch_mask=null,t.gameLogic_con=null,t.txt_level=null,t.tipsBtn=null,t.txt_timeCount=null,t.gameLogic=null,t.gameCountDown=0,t}return r(t,e),t.prototype.start=function(){this.touchMask(!1),a.default.mainAudio.playGameBGMusic(),this.initGame(),u.default.on(u.USERGAME_EVENT.GAME_ADDTIME,this.addTime,this),u.default.on(u.USERGAME_EVENT.GAME_WIN,this.gameWin,this),u.default.on(u.USERGAME_EVENT.GAME_TOUCHMASK,this.touchMask,this)},t.prototype.initGame=function(){var e=this;this.gameCountDown=l.default.gameConfig.getGameConstantByKey("GAME_TIME")+1,this.unscheduleAllCallbacks(),this.schedule(this.updateCount,1),this.updateCount(),s.default.stop(),s.default.start(),this.gameLogic&&this.gameLogic.node.destroy();var t,o=a.default.sceneCenter.getCustomData().level;t=a.default.sceneCenter.getCustomData().type==u.GAME_TYPE.COMMON?"GameScene/Prefab/Level/Level_"+o:"GameScene/Prefab/LEVEL_CHALLENGE/Level_"+o,a.default.loading.load(t,function(t,o){null==t&&(e.gameLogic=cc.instantiate(o).getComponent(d.default),e.gameLogic_con.addChild(e.gameLogic.node),e.gameLogic.node.setPosition(0,0),e.gameLogic.node.removeComponent(cc.Sprite))}),this.txt_level.string="\u7b2c"+a.default.sceneCenter.getCustomData().level+"\u5173"},t.prototype.updateCount=function(){this.gameCountDown--,this.txt_timeCount.string=h.default.timeFormat(this.gameCountDown),this.gameCountDown<=0&&(this.unscheduleAllCallbacks(),l.default.uiCenter.showUi("GameLose"))},t.prototype.addTime=function(){this.gameCountDown=l.default.gameConfig.getGameConstantByKey("GAME_TIME_ADD")+1,this.unscheduleAllCallbacks(),this.schedule(this.updateCount,1),this.updateCount()},t.prototype.exitGame=function(){a.default.sceneCenter.runScene("MainScene")},t.prototype.clearOne=function(){this.gameLogic.clearRandomOne()},t.prototype.showTips=function(){a.default.uiCenter.showUi("GameTips"),this.tipsBtn.normalCountNum=9999},t.prototype.replay=function(){this.initGame()},t.prototype.gameWin=function(){this.unscheduleAllCallbacks(),a.default.uiCenter.showUi("GameWin").getComponent(f.default).setCount(a.default.sceneCenter.getCustomData().level,this.gameCountDown),a.default.sceneCenter.getCustomData().type==u.GAME_TYPE.COMMON?(u.default.setLevelUp(a.default.sceneCenter.getCustomData().level),p.default.setAchieve(p.ACHIEVE_TYPE.clearCommon,1),p.default.setAchieve(p.ACHIEVE_TYPE.clearCommonTime,l.default.gameConfig.getGameConstantByKey("GAME_TIME")-this.gameCountDown)):(u.default.setChallenge(a.default.sceneCenter.getCustomData().level),p.default.setAchieve(p.ACHIEVE_TYPE.clearChallenges,1))},t.prototype.touchMask=function(e){console.log(e),this.touch_mask.active=e},i([g(cc.Node)],t.prototype,"touch_mask",void 0),i([g(cc.Node)],t.prototype,"gameLogic_con",void 0),i([g(cc.Label)],t.prototype,"txt_level",void 0),i([g(c.default)],t.prototype,"tipsBtn",void 0),i([g(cc.Label)],t.prototype,"txt_timeCount",void 0),i([_],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../InitScene/Script/center/GameInit":void 0,"../InitScene/Script/data/AchieveModel":void 0,"../InitScene/Script/data/UserGameModel":void 0,"../Script/base/AronUtils":void 0,"../framework/Script/cemter/GameCenter":void 0,"../framework/Script/prefab/AwardButton":void 0,"../framework/Script/sdk/recorder":void 0,"./Script/Game/GameLogic":"GameLogic","./Script/UI/GameWin":"GameWin"}],GameTips:[function(e,t,o){"use strict";cc._RF.push(t,"de9a2wc39RPHJB/u0XlJeJB","GameTips");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../framework/Script/cemter/GameCenter"),c=e("../../../InitScene/Script/data/UserGameModel"),s=e("../Game/GameLogic"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level_con=null,t.point_model=null,t}return r(t,e),t.prototype.start=function(){var e,t=this,o=a.default.sceneCenter.getCustomData().level;e=a.default.sceneCenter.getCustomData().type==c.GAME_TYPE.COMMON?"GameScene/Prefab/Level/Level_"+o:"GameScene/Prefab/LEVEL_CHALLENGE/Level_"+o,a.default.loading.load(e,function(e,o){if(null==e){var n=cc.instantiate(o);t.level_con.addChild(n),n.setPosition(0,0),n.scale=.5,n.removeComponent(cc.Sprite),n.removeComponent(s.default);for(var r=0,i=n.children;r<i.length;r++){var a=i[r],c=cc.instantiate(t.point_model);a.addChild(c),c.setPosition(0,0),c.angle=-a.angle,c.scaleX=a.scaleX/Math.abs(a.scaleX)*2,c.scaleY=a.scaleY/Math.abs(a.scaleY)*2,c.getChildByName("txt").getComponent(cc.Label).string=a.name.split("_")[1],a.name.split("_")[1]||(c.active=!1)}}t.point_model.destroy()})},i([u(cc.Node)],t.prototype,"level_con",void 0),i([u(cc.Node)],t.prototype,"point_model",void 0),i([p],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../InitScene/Script/data/UserGameModel":void 0,"../../../framework/Script/cemter/GameCenter":void 0,"../Game/GameLogic":"GameLogic"}],GameWin:[function(e,t,o){"use strict";cc._RF.push(t,"42ece+YBc9BOrVNNqUmBEAv","GameWin");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../framework/Script/cemter/GameCenter"),c=e("../../../framework/Script/sdk/recorder"),s=e("../../../InitScene/Script/center/GameInit"),l=e("../../../InitScene/Script/data/UserGameModel"),p=e("../../../Script/common/ui/WinBase"),u=cc._decorator,h=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_award=null,t.node_share=null,t.txt_str=null,t.txt_num=null,t}return r(t,e),t.prototype.start=function(){a.default.mainAudio.playGameWin(),c.default.stop(),this.node_award.active=!0,this.node_share.active=!1;for(var e,t=[s.default.gameConfig.getGameConstantByKey("GAME_TIME_AWARD_STAR1"),s.default.gameConfig.getGameConstantByKey("GAME_TIME_AWARD_STAR2"),s.default.gameConfig.getGameConstantByKey("GAME_TIME_AWARD_STAR3")],o=[(e=l.GAME_TYPE.COMMON==a.default.sceneCenter.getCustomData().type?s.default.gameConfig.levelAwardConfigsById[this._takeIndex]:s.default.gameConfig.chanllengeAwardConfigsById[this._takeIndex]).star1,e.star2,e.star3],n=this._takeTime/s.default.gameConfig.getGameConstantByKey("GAME_TIME")*100,r=0;r<t.length;r++){var i=o[r];if(n>=t[r])return void(this.txt_num.string=i.toString())}},t.prototype.setCount=function(e,t){this._takeIndex=e,this._takeTime=t,this.txt_str.string="\u5269\u4f59\u65f6\u95f4\uff1a"+t+"\u79d2"},t.prototype.goHome=function(){a.default.sceneCenter.runScene("MainScene"),this.getComponent(p.default).onClose()},t.prototype.goNext=function(){var e=l.GAME_TYPE.COMMON==a.default.sceneCenter.getCustomData().type?l.default.levelMax:l.default.challengeMax;a.default.sceneCenter.getCustomData().level+1>e?s.default.toast.show("\u5df2\u901a\u5173\u6240\u6709\u5173\u5361\uff0c\u70b9\u51fb\u9996\u9875\u6309\u94ae\u8fd4\u56de"):l.default.enterGame(a.default.sceneCenter.getCustomData().level+1,a.default.sceneCenter.getCustomData().type)},t.prototype.share=function(){this.unscheduleAllCallbacks(),c.default.hasVideo()?c.default.shareToSociety({video_title:"\u5982\u6b64\u70e7\u8111\u7684\u8c1c\u9898\uff0c\u4f60\u6562\u6765\u6311\u6218\u5417\uff1f"}):this.scheduleOnce(this.share.bind(this),.5)},t.prototype.getAward=function(){this.award()},t.prototype.getAward5=function(){this.award(5)},t.prototype.award=function(e){void 0===e&&(e=1),this.node_award.active=!1,this.node_share.active=!0;for(var t,o=[s.default.gameConfig.getGameConstantByKey("GAME_TIME_AWARD_STAR1"),s.default.gameConfig.getGameConstantByKey("GAME_TIME_AWARD_STAR2"),s.default.gameConfig.getGameConstantByKey("GAME_TIME_AWARD_STAR3")],n=[(t=l.GAME_TYPE.COMMON==a.default.sceneCenter.getCustomData().type?s.default.gameConfig.levelAwardConfigsById[this._takeIndex]:s.default.gameConfig.chanllengeAwardConfigsById[this._takeIndex]).star1,t.star2,t.star3],r=this._takeTime/s.default.gameConfig.getGameConstantByKey("GAME_TIME")*100,i=0;i<o.length;i++){var c=n[i]*e;if(r>=o[i])return s.default.toast.show("\u83b7\u5f97\u91d1\u5e01+"+c),l.default.setCoinAdd(c),void s.default.gameEffect.floatRes(l.RES_TYPE.COIN,cc.v2(),Math.min(c,30))}},i([d(cc.Node)],t.prototype,"node_award",void 0),i([d(cc.Node)],t.prototype,"node_share",void 0),i([d(cc.Label)],t.prototype,"txt_str",void 0),i([d(cc.Label)],t.prototype,"txt_num",void 0),i([h],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../InitScene/Script/center/GameInit":void 0,"../../../InitScene/Script/data/UserGameModel":void 0,"../../../Script/common/ui/WinBase":void 0,"../../../framework/Script/cemter/GameCenter":void 0,"../../../framework/Script/sdk/recorder":void 0}],HitBase:[function(e,t,o){"use strict";cc._RF.push(t,"596291Mmm1Fvq37Ghcc87IK","HitBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../../../framework/Script/cemter/GameCenter"),c=e("../../../../../framework/Script/component/LoaderSprite"),s=e("../../../../../InitScene/Script/center/GameInit"),l=e("../../../../../InitScene/Script/data/UserGameModel"),p=cc._decorator,u=p.ccclass,h=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hitLatch=[],t.hitShape=[],t.takeDire=null,t.skinLock=!1,t}return r(t,e),t.prototype.onLoad=function(){var e=this;if(this.node.removeComponent(cc.BoxCollider),this.node.removeComponent(cc.CircleCollider),this.node.removeComponent(cc.PolygonCollider),a.default.loading.load("GameScene/Prefab/GameObject/collider/"+this.node.name,function(t,o){for(var n=cc.instantiate(o),r=0,i=n.getComponents(cc.BoxCollider);r<i.length;r++){var a=i[r],c=e.node.addComponent(cc.BoxCollider);c.offset=a.offset,c.tag=a.tag,c.size=a.size}for(var s=0,l=n.getComponents(cc.PolygonCollider);s<l.length;s++){var p=l[s],u=e.node.addComponent(cc.PolygonCollider);u.offset=p.offset,u.tag=p.tag,u.points=p.points}for(var h=0,d=n.getComponents(cc.CircleCollider);h<d.length;h++){var f=d[h],m=e.node.addComponent(cc.CircleCollider);m.offset=f.offset,m.tag=f.tag,m.radius=f.radius}}),this.node.x+=1,this.node.x-=1,!this.skinLock){var t=s.default.gameConfig.skinShopConfigs[l.default.skinIndex],o=this.node.name.split("_")[1],n=this.node.getComponent(cc.Sprite);console.log(t.path),c.default.addLoadingSprite(n).loadSprite("resources/Shape/"+o+"/"+t.path+"/"+n.spriteFrame.name)}},t.prototype.onCollisionEnter=function(e,t){999!=e.tag&&999!=t.tag&&e.node.parent!=t.node.parent&&(e.getComponent("Latch")&&this.hitLatch.push(e.node),e.getComponent("Shape")&&this.hitShape.push(e.node),t.getComponent("Shape")&&1==t.tag&&e.getComponent("Latch")&&this.hitShape.push(e.node))},t.prototype.onCollisionStay=function(e,t){999!=e.tag&&999!=t.tag&&(e.node.parent,t.node.parent)},t.prototype.onCollisionExit=function(e,t){999!=e.tag&&999!=t.tag&&e.node.parent!=t.node.parent&&(-1!=this.hitLatch.indexOf(e.node)&&this.hitLatch.splice(this.hitLatch.indexOf(e.node),1),-1!=this.hitShape.indexOf(e.node)&&this.hitShape.splice(this.hitShape.indexOf(e.node),1),t.getComponent("Shape")&&1==t.tag&&this.hitShape.splice(this.hitShape.indexOf(e.node),1))},t.prototype.isHitLatch=function(){return this.hitLatch.length>0},t.prototype.isHitShape=function(){return this.hitShape.length>0},Object.defineProperty(t.prototype,"isHit",{get:function(){return this.isHitLatch()||this.isHitShape()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dire",{get:function(){if(0==this.hitLatch.length)return this.takeDire;for(var e=0,t=this.hitLatch;e<t.length;e++){var o=t[e];if(o.getComponent("LatchLock")){this.takeDire=0==o.parent.angle?0:1;break}}return this.takeDire},enumerable:!1,configurable:!0}),i([u],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../../../InitScene/Script/center/GameInit":void 0,"../../../../../InitScene/Script/data/UserGameModel":void 0,"../../../../../framework/Script/cemter/GameCenter":void 0,"../../../../../framework/Script/component/LoaderSprite":void 0}],LatchLock:[function(e,t,o){"use strict";cc._RF.push(t,"08362RUbJBIl5Q0i9gDiKvh","LatchLock");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Latch"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){this.skinLock=!0,e.prototype.onLoad.call(this)},i([s],t)}(a.default));o.default=l,cc._RF.pop()},{"./Latch":"Latch"}],Latch:[function(e,t,o){"use strict";cc._RF.push(t,"13b2dfYOCJIsamHxO3Bgb7j","Latch");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./HitBase"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),i([s],t)}(a.default));o.default=l,cc._RF.pop()},{"./HitBase":"HitBase"}],Shape:[function(e,t,o){"use strict";cc._RF.push(t,"2a6e4Bwor5Bo7vVdQ7FTwds","Shape");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./HitBase"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),i([s],t)}(a.default));o.default=l,cc._RF.pop()},{"./HitBase":"HitBase"}]},{},["GameScene","GameLogic","GameItem","HitBase","Latch","LatchLock","Shape","GameLose","GameTips","GameWin"]);